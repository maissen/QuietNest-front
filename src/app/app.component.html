<div 
  class="content" 
  [style]="'--avgColor:' + scenesService.getActiveScene()?.avgColor + 
          '; --avgColorlighter:' + scenesService.getActiveScene()?.avgColor + '42' + 
          '; --currentSceneImg:url(' + scenesService.getActiveScene()?.img + ')'"
>

    <app-navbar *ngIf="navbar.showNavbar"></app-navbar>

    <app-playing-speech-banner></app-playing-speech-banner>
    <app-bottom-sheet></app-bottom-sheet>
    <!-- <app-overlay-video></app-overlay-video> -->
    
    <div
        class="dynamic-content"
        [ngStyle]="{
            'padding-left': navbar.showNavbar ? 'var(--navbar-wide-width)' : '0'
        }"
    >
        <app-toast></app-toast>
        <router-outlet></router-outlet>
    </div>

    <div *ngIf="user.getUser() != null">
        
        <!--! sounds of create section -->
        <div class="create-section-sounds" style="display: none;">
            <div *ngFor="let sound of soundsService.getSounds()">
                <audio 
                    *ngIf="service.isSoundActive(sound)" 
                    [id]="'sound-audio-'+sound.id" 
                    [src]="sound.link" 
                    loop 
                    [autoplay]="!service.getPauseActiveSounds()"
                    [volume]="sound.volume/10"
                    
                ></audio>
            </div>
        </div>

        <!--! audio of playing speech -->
        <!-- *ngIf="speechesService.getSelectedSpeechData() != null"  -->
        <div 
            class="playing_speech_audio"  
            style="display: none;"
        >
            <audio 
                id="playing_speech_html_audio" 
                (loadstart)="startLoadingSpeech()"
                (loadeddata)="getFetchedSpeechDuration()"
                (ended)="onAudioEnd()">
            </audio>
        </div>
        
    </div>


</div>